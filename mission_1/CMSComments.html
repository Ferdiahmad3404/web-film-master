<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flowbite@1.5.1/dist/flowbite.min.css">
    <link href="./output.css" rel="stylesheet">
    <title>CMSComments</title>
    <style>
        /* Custom Styles for Sidebar */
        #sidebar {
            transform: translateX(530%);
            transition: transform 0.3s ease-in-out;
        }
        #sidebar.active {
            transform: translateX(430%);
        }
        .sidebar-link:hover::after {
            width: 100%;
        }
        .sidebar-link::after {
            content: '';
            display: block;
            width: 0;
            height: 2px;
            background: #fff;
            transition: width 0.3s;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 h-screen bg-black bg-opacity-5 rounded-r-xl rounded-b-xl flex flex-col">
            <div class="p-6">
                <h1 class="text-3xl font-bold mb-6">DramaKu</h1>
            </div>
            <nav class="flex-1">
                <ul>
                    <!-- Drama dropdown -->
                    <li class="relative group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h1M4 6h16M4 14h16M4 18h16"></path>
                            </svg>
                            Drama
                            <svg class="w-4 h-4 ml-auto transition-transform transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </a>
                        <ul class="absolute left-0 hidden w-full text-gray-900 bg-neutral-300 rounded-lg shadow-lg group-hover:block">
                            <li><a href="#" class="block px-4 py-2 hover:bg-yellow-900 hover:text-white rounded transition duration-150">Validate</a></li>
                            <li><a href="#" class="block px-4 py-2 hover:bg-yellow-900 hover:text-white rounded transition duration-150">Input Drama</a></li>
                        </ul>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg  hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M4.37 7.657c2.063.528 2.396 2.806 3.202 3.87 1.07 1.413 2.075 1.228 3.192 2.644 1.805 2.289 1.312 5.705 1.312 6.705M20 15h-1a4 4 0 0 0-4 4v1M8.587 3.992c0 .822.112 1.886 1.515 2.58 1.402.693 2.918.351 2.918 2.334 0 .276 0 2.008 1.972 2.008 2.026.031 2.026-1.678 2.026-2.008 0-.65.527-.9 1.177-.9H20M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                            </svg>                                              
                            Countries
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg  hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7.171 12.906-2.153 6.411 2.672-.89 1.568 2.34 1.825-5.183m5.73-2.678 2.154 6.411-2.673-.89-1.568 2.34-1.825-5.183M9.165 4.3c.58.068 1.153-.17 1.515-.628a1.681 1.681 0 0 1 2.64 0 1.68 1.68 0 0 0 1.515.628 1.681 1.681 0 0 1 1.866 1.866c-.068.58.17 1.154.628 1.516a1.681 1.681 0 0 1 0 2.639 1.682 1.682 0 0 0-.628 1.515 1.681 1.681 0 0 1-1.866 1.866 1.681 1.681 0 0 0-1.516.628 1.681 1.681 0 0 1-2.639 0 1.681 1.681 0 0 0-1.515-.628 1.681 1.681 0 0 1-1.867-1.866 1.681 1.681 0 0 0-.627-1.515 1.681 1.681 0 0 1 0-2.64c.458-.361.696-.935.627-1.515A1.681 1.681 0 0 1 9.165 4.3ZM14 9a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
                            </svg>                                              
                            Awards
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5Zm16 14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2ZM4 13a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6Zm16-2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6Z"/>
                            </svg>                                              
                            Genres
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M4.5 17H4a1 1 0 0 1-1-1 3 3 0 0 1 3-3h1m0-3.05A2.5 2.5 0 1 1 9 5.5M19.5 17h.5a1 1 0 0 0 1-1 3 3 0 0 0-3-3h-1m0-3.05a2.5 2.5 0 1 0-2-4.45m.5 13.5h-7a1 1 0 0 1-1-1 3 3 0 0 1 3-3h3a3 3 0 0 1 3 3 1 1 0 0 1-1 1Zm-1-9.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
                            </svg>                                              
                            Actors
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg bg-yellow-900 text-white hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.556 8.5h8m-8 3.5H12m7.111-7H4.89a.896.896 0 0 0-.629.256.868.868 0 0 0-.26.619v9.25c0 .232.094.455.26.619A.896.896 0 0 0 4.89 16H9l3 4 3-4h4.111a.896.896 0 0 0 .629-.256.868.868 0 0 0 .26-.619v-9.25a.868.868 0 0 0-.26-.619.896.896 0 0 0-.63-.256Z"/>
                            </svg>
                            Comments
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-width="2" d="M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                            </svg>  
                            Users
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" class="flex items-center px-4 py-3 text-lg hover:bg-yellow-900 hover:text-white rounded transition duration-200">
                            <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7"></path>
                            </svg>
                            Logout
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 bg-gray-100 p-6">
            <div class="w-full p-9">
                <div class="mb-5 flex flex-col justify-between">
                    <h1 class="text-2xl mb-5 font-medium">Comments</h1>
                    
                </div>

                <!-- Search and Sort Options -->
                <div class="flex justify-between mb-4">
                    <!-- Search Bar -->
                    <div class="flex items-center space-x-2">
                        <input type="text" id="search-bar" class="border border-gray-400 px-4 py-2 rounded-full" placeholder="Search country" oninput="filterGenres()">
                    </div>
        
                    <!-- Sort Options -->
                    <div class="flex items-center space-x-2 w-1/6">
                        <label for="sort-options" class="mr-2 w-full">Sort by:</label>
                        <select id="sort-options" class="w-full border border-gray-400 px-4 py-2 rounded-full" onchange="sortGenres()">
                            <option value="a-z">A-Z</option>
                            <option value="z-a">Z-A</option>
                        </select>
                    </div>
                </div>

                <!-- Country List -->
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left mb-10 text-gray-500 dark:text-gray-400">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-yellow-900 dark:text-white">
                            <tr>
                                <th scope="col" class="w-1/12 px-4 py-4 sr-only">No</th>
                                <th scope="col" class="w-1/12 px-4 py-4">Username</th>
                                <th scope="col" class="w-1/12 px-4 py-4">Rate</th>
                                <th scope="col" class="w-3/12 px-4 py-4">Drama</th>
                                <th scope="col" class="w-5/12 px-4 py-4">Comments</th>
                                <th scope="col" class="w-1/12 px-4 py-4">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b dark:border-gray-700">
                                <!--  -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="flex-col gap-5 w-2/6">
                    <div>
                        <button onclick="selectAllComments()" class="w-2/6 h-10 text-black rounded-full hover:text-blue-600">Select All</button>
                    </div>
                    <div class="flex gap-5">
                        <button type="submit" onclick="editComments()" class="w-3/6 h-10 bg-blue-500 text-white rounded-full hover:bg-blue-600">Approve</button>
                        <button type="submit" onclick="deleteAwards()" class="w-3/6 h-10 bg-red-500 text-white rounded-full hover:bg-red-600">delete</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidenav -->
        <div class="flex z-30">
            <div class="bg-yellow-900 p-4 h-screen sticky top-0 ">
                <div class="text-2xl font-bold text-white flex flex-col justify-center">
                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M15.907 11.998 10.332 9.23a.9.9 0 0 1-.16-.037l-.018-.007v6.554c0 .017.008.034.01.051l2.388-2.974 3.355-.82Z"/>
                        <path d="m11.463 4.054 5.579 3.323A4.02 4.02 0 0 1 18.525 9c.332.668.47 1.414.398 2.155a3.07 3.07 0 0 1-.745 1.65 3.108 3.108 0 0 1-1.55.951c-.022.007-.045.005-.07.01-.062.03-.126.057-.191.08l-2.72.667-1.992 2.48c-.18.227-.41.409-.67.534.047.034.085.077.137.107a2.05 2.05 0 0 0 1.995.035c.592-.33 2.15-1.201 4.636-2.892l.28-.19c1.328-.895 3.616-2.442 3.967-4.215a9.94 9.94 0 0 0-1.713-4.154 10.027 10.027 0 0 0-3.375-2.989 10.107 10.107 0 0 0-8.802-.418c1.162.287 2.287.704 3.354 1.243Z"/>
                        <path d="M5.382 17.082v-6.457a3.7 3.7 0 0 1 .45-1.761 3.733 3.733 0 0 1 1.238-1.34 3.915 3.915 0 0 1 3.433-.245c.176.03.347.084.508.161l5.753 2.856c.082.05.161.105.236.165a2.128 2.128 0 0 0-.953-1.455l-5.51-3.284c-1.74-.857-3.906-1.523-5.244-1.097a9.96 9.96 0 0 0-2.5 3.496 9.895 9.895 0 0 0 .283 8.368 9.973 9.973 0 0 0 2.73 3.322 17.161 17.161 0 0 1-.424-2.729Z"/>
                        <path d="m19.102 16.163-.272.183c-2.557 1.74-4.169 2.64-4.698 2.935a4.083 4.083 0 0 1-2 .53 3.946 3.946 0 0 1-1.983-.535 3.788 3.788 0 0 1-1.36-1.361 3.752 3.752 0 0 1-.51-1.85 1.812 1.812 0 0 1-.043-.26V9.143c0-.024.009-.046.01-.07-.056.02-.11.043-.162.07a1.796 1.796 0 0 0-.787 1.516v6.377a10.67 10.67 0 0 0 1.113 4.27 10.11 10.11 0 0 0 8.505-.53 10.022 10.022 0 0 0 3.282-2.858 9.936 9.936 0 0 0 1.75-3.97 19.615 19.615 0 0 1-2.845 2.216Z"/>
                    </svg>
                </div>
                
                <!-- Toggle Sidebar Button -->
                <div class="absolute right-1/3 top-1/2">
                    <button id="open-btn" class="text-3xl text-white">&equiv;</button>
                </div>
            </div>

            <!-- Sidebar Popup -->
            <div id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-yellow-900 shadow-lg z-50 p-8">
                <div class="flex justify-between items-center mb-12">
                    <h2 class="text-2xl font-bold text-white">Countries</h2>
                    <button id="close-btn" class="text-2xl text-white">&times;</button>
                </div>
                <nav>
                    <ul>
                        <li class="mb-4"><a href="#" class="sidebar-link text-lg text-white">Japan</a></li>
                        <li class="mb-4"><a href="#" class="sidebar-link text-lg text-white">Korea</a></li>
                        <li class="mb-4"><a href="#" class="sidebar-link text-lg text-white">China</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <!-- PERSKRIPAN -->
    <!-- Flowbite -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@1.5.1/dist/flowbite.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Javascript for Sidebar
        const openBtn = document.getElementById('open-btn');
        const closeBtn = document.getElementById('close-btn');
        const sidebar = document.getElementById('sidebar');

        openBtn.addEventListener('click', () => {
            sidebar.classList.add('active');
        });

        closeBtn.addEventListener('click', () => {
            sidebar.classList.remove('active');
        });

        // Initialize Flowbite components if needed
        document.addEventListener('DOMContentLoaded', function () {
            // Optional: Initialize any Flowbite components here
        });


        // 
        // CRUD
        // 
        document.addEventListener('DOMContentLoaded', function() {
            const commentsTableBody = document.querySelector('tbody');
            const searchInput = document.getElementById('search-bar');
            const sortSelect = document.getElementById('sort-options');

        // Initial dummy data
        let comments = [
            { id: 1, check: false, username: 'Nara', rate: 4.5, drama: 'Eye Love You', comment: 'I love this drama. It taught me a lot about money and finance. Love is not everything. We need to face the reality too. Being stoic is the best.', status: 'unapproved' },
            { id: 2, check: true, username: 'Luffy', rate: 2.5, drama: 'Eye Love You', comment: 'Meh', status: 'approved' }
        ];

        // Function to render the comments list
        function renderComments(filteredComments = comments) {
            commentsTableBody.innerHTML = '';

            filteredComments.forEach((item, index) => {
                const row = document.createElement('tr');
                row.classList.add('border-b', 'dark:border-gray-700');
                
                row.innerHTML = `
                    <td class="px-4 py-3">
                        <input type="checkbox" value="${item.check}" class="status-checkbox w-4 h-4 text-black bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-300 dark:border-gray-600">
                    </td>
                    <td class="px-4 py-3 text-black">${item.username}</td>
                    <td class="px-4 py-3">
                        <div class="flex items-center">
                            <svg class="w-4 h-4 text-yellow-300 me-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                            </svg>
                            <p class="ms-2 text-sm text-black">${item.rate}</p>
                        </div>
                    </td>
                    <td class="px-4 py-3 text-black">${item.drama}</td>
                    <td class="px-4 py-3 text-black">${item.comment}</td>
                    <td class="px-4 py-3 text-black">${item.status}</td>
                `;
                commentsTableBody.appendChild(row);
            });
        }


        // Function to approve selected comments
        window.approveComments = function() {
            const checkboxes = document.querySelectorAll('.status-checkbox');
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const id = parseInt(checkbox.value);
                    editComments(id, { status: 'approved' });
                }
            });
        };

        // Function to delete selected comments
        window.deleteComments = function() {
            const checkboxes = document.querySelectorAll('.status-checkbox');
            comments = comments.filter(comment => !checkboxes.some(checkbox => checkbox.checked && parseInt(checkbox.value) === comment.id));
            renderComments(); // Update the display after deletion
        };

        // Function to select all comments
        window.selectAllComments = function() {
            const checkboxes = document.querySelectorAll('.status-checkbox');
            checkboxes.forEach(checkbox => checkbox.checked = true);
        };

        // Edit comment status
        function editComments(id, updates) {
            const index = comments.findIndex(comment => comment.id === id);
            if (index !== -1) {
                comments[index] = { ...comments[index], ...updates };
                renderComments(); // Re-render the table to reflect changes
            }
        }

        // Sort comments
        function sortComments() {
            const sortOption = sortSelect.value;
            const sortedComments = [...comments];

            if (sortOption === 'a-z') {
                sortedComments.sort((a, b) => a.username.localeCompare(b.username));
            } else if (sortOption === 'z-a') {
                sortedComments.sort((a, b) => b.username.localeCompare(a.username));
            }

            renderComments(sortedComments);
        }

        // Filter comments
        function filterComments() {
            const searchInputValue = searchInput.value.toLowerCase();
            const filteredComments = comments.filter(item =>
                item.username.toLowerCase().includes(searchInputValue) ||
                item.comment.toLowerCase().includes(searchInputValue)
            );

            renderComments(filteredComments);
        }

        // Attach event listeners
        sortSelect.addEventListener('change', sortComments);
        searchInput.addEventListener('input', filterComments);

        // Initial render
        renderComments();
        });
    </script>
</body>
<footer class="bg-white shadow dark:bg-yellow-900 p-10">
    <div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
        <div class="sm:flex sm:items-center sm:justify-between">
            <a href="https://flowbite.com/" class="flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse">
                <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Flowbite Logo" />
                <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">DramaKu</span>
            </a>
            <ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400">
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">About</a>
                </li>
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">Privacy Policy</a>
                </li>
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">Licensing</a>
                </li>
                <li>
                    <a href="#" class="hover:underline">Contact</a>
                </li>
            </ul>
        </div>
        <hr class="my-6 border-gray-200 sm:mx-auto dark:border-white lg:my-8" />
        <span class="block text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2024 <a href="https://flowbite.com/" class="hover:underline">DramaKu™</a>. All Rights Reserved.</span>
    </div>
</footer>
</html>
